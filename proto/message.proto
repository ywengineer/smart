syntax = "proto3";

package message_def;

option go_package = "../message";

message ForeignMessage {
  int32 c = 1;
  int32 d = 2;
}

enum Codec {
  JSON = 0; // json
  PROTO = 1; // protocol buffer
  MSGPACK = 2; // msgpack
  THRIFT = 3; // thrift
  FAST_PB = 4; // fastpb
}

message ProtocolMessage {
  int32 seq = 1; // SEQUENCE NUMBER 字段 32bits，表示数据包的 seqId，可用于多路复用，最好确保单个连接内递增
  int32 route = 2; // int32 消息路由ID
  map<string, string> header = 3; // 请求头
  Codec codec = 4; // 编码类型
  bytes payload = 5; // 消息内容
}